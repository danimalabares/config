global !p
def tx():
      return vim.eval('vimtex#syntax#in_mathzone()') == '0'
endglobal

snippet preamble "preamble" i
\include{/Users/daniel/github/config/preamble.sty}
\include{/Users/daniel/github/config/thms.sty}
\include{/Users/daniel/github/config/ops.sty}
endsnippet

snippet center "center" i
\begin{center}
	$1
\end{center}$0
endsnippet

snippet beg "begin{} / end{}" 
\begin{$1}
	$0
\end{$1}$2
endsnippet

priority 1
snippet thm "theorem" bA
\begin{thm}
	$1
\end{thm}$0
endsnippet

snippet Thm "theorem" bA
\begin{thm}[$1]\leavevmode
	$2
\end{thm}$0
endsnippet

snippet Prop "proposition" bA
\begin{prop}[$1]
	$2
\end{prop}$0
endsnippet

snippet prop "proposition" bA
\begin{prop}
	$1
\end{prop}$0
endsnippet

snippet Defn "" bA
\begin{defn}[$1]
	$2
\end{defn}$0
endsnippet

snippet defn "" bA
\begin{defn}
	$1
\end{defn}$0
endsnippet

snippet lem "" bA
\begin{lemma}
	$1
\end{lemma}$0
endsnippet

snippet qst "" bA
\begin{question}
	$1
\end{question}$0
endsnippet

snippet cl "" bA
\begin{claim}
	$1
\end{claim}$0
endsnippet

context "tx()"
snippet Coro "corollary" bA
\begin{coro}[$1]
	$2
\end{coro}$0
endsnippet

snippet coro "" bA
\begin{coro}
	$1
\end{coro}$0
endsnippet

snippet Exa "" bA
\begin{example}[$1]
	$2
\end{example}$0
endsnippet

snippet exa "" bA
\begin{example}
	$1
\end{example}$0
endsnippet

snippet upshot "theorem" bA
\begin{upshot}
	$1
\end{upshot}$0
endsnippet

snippet Exer "" bA
\begin{exercise}[$1]
	$2
\end{exercise}$0
endsnippet

snippet exer "" bA
\begin{exercise}
	$1
\end{exercise}$0
endsnippet

snippet Mex "labeled manual numbering exercise" bA
\addcontentsline{toc}{subsection}{Exercise $1}
\begin{manualexercise}{$1}
	$2
\end{manualexercise}$0
endsnippet

snippet mex "manual numbering exercise" bA
\begin{manualexercise}{${1:number}}
	$2
\end{manualexercise}$0
endsnippet

context "tx()"
snippet prob "Problem" bA
\addcontentsline{toc}{subsection}{Problem $1}
\paragraph{Problem $1}$0
endsnippet


snippet mdef "manualdef" bA
\begin{manualdef}{${1:number}}
	$2
\end{manualdef}$0
endsnippet

snippet conj "" bA
\begin{conjecture}[$1]
	$2
\end{conjecture}$0
endsnippet

context "tx()"
snippet pf "proof" bA
\begin{proof}
	$1
\end{proof}$0
endsnippet


snippet dem "demostracao" bA
\begin{proof}[Demostra\c c\~ao]
	$1
\end{proof}$0
endsnippet

snippet sol "" bA
\begin{proof}[Solution]\leavevmode
	$1
\end{proof}$0
endsnippet

snippet Pf "" bA
\begin{proof}[$1]
$2
\end{proof}$0
endsnippet

snippet ali "align" bA
\begin{align*}
	$1&=$2
\end{align*}$0
endsnippet

context "tx()"
snippet bali "begin align" bA
\begin{align*}
endsnippet

snippet eali "end align" bA
\end{align*}
endsnippet

snippet eq "equation" bA
\begin{equation*}
	$1
\end{equation*}$0
endsnippet

snippet Eq "equation" bA
\begin{equation}\label{eq:$1}
	$2
\end{equation}$0
endsnippet

snippet Rk "remark" bA
\begin{remark}[$1]\leavevmode
	$2
\end{remark}$0
endsnippet

snippet rk "remark" bA
\begin{remark}
	$1
\end{remark}$0
endsnippet

snippet pgp
\paragraph{$1} $2
endsnippet

priority 3
snippet bi "bold-italic" w
\textit{\textbf{${1}}}`!p
if t[2] and t[2][0] not in [',', '.', '?', '-', ' ',':',')']:
     snip.rv = ' '
else:
     snip.rv = ''
`$2
endsnippet

priority 1
context "tx()"
snippet b "bold" i
\textbf{$1}`!p
if t[1] and t[1][0] not in [',', '.', '_', '?', '-', ' ','(','^']:
     snip.rv = ' '
else:
     snip.rv = ''
`$0
endsnippet

priority 1
context "tx()"
snippet i "italic" w
\textit{$1}`!p
if t[1] and t[1][0] not in [',', '.', '_', '?', '-', ' ','(','^']:
     snip.rv = ' '
else:
     snip.rv = ''
`$0
endsnippet

snippet hr "hyperref" i
\href{$1}{$2}`!p
if t[3] and t[3][0] not in [',', '.', '_', '?', '-', ' ','(','^']:
     snip.rv = ' '
else:
     snip.rv = ''
`$3
endsnippet

snippet ct "cite" i
\cite{$1}$2
endsnippet

#snippet @ "exponent" iA
#^
#endsnippet

#snippet ^ "at" iA
#@
#endsnippet

snippet enum "Enumerate" bA
\begin{enumerate}
	\item $1

	\item $2
\end{enumerate}
endsnippet

snippet aenum "Enumerate using letters" bA
\begin{enumerate}[label=\alph*.]
	\item $1
\end{enumerate}
endsnippet


snippet ienum "Enumerate using i,ii,iii..." bA
\begin{enumerate}[label=(\roman*)]
	\item $1
\end{enumerate}
endsnippet

snippet nenum "Enumerate start at *" bA
\begin{enumerate}[($1)]\setcounter{enumi}{${2:one before}}
	\item $2
\end{enumerate}
endsnippet

snippet step "steps" bA
\begin{enumerate}[label=\textbf{Step \arabic*}]
	\item $1
\end{enumerate}
endsnippet

snippet item "Itemize" bA
\begin{itemize}
\item $1
\end{itemize}
endsnippet

snippet sec "section" bA
\section{$1}
$0
endsnippet

snippet ssec "subsection" bA
\subsection{$1}
$0
endsnippet

snippet seec "subsubsection" bA
\subsubsection{$1}
$0
endsnippet

snippet table "Table environment" b
\begin{table}[${1:htpb}]
	\centering
	\caption{${2:caption}}
	\label{tab:${3:label}}
	\begin{tabular}{${5:c}}
	$0${5/((?<=.)c|l|r)|./(?1: & )/g}
	\end{tabular}
\end{table}
endsnippet

snippet fig "Figure environment" b
\begin{figure}[${1:htpb=where?}]
	\centering
	${2:\includegraphics[width=0.8\textwidth]{$3}}
	\caption{${4:$3}}
	\label{fig:${5:${3/\W+/-/g}}}
\end{figure}
endsnippet

snippet template "Basic template" b
\documentclass[a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage[dutch]{babel}
\usepackage{amsmath, amssymb}


% figure support
\usepackage{import}
\usepackage{xifthen}
\pdfminorversion=7
\usepackage{pdfpages}
\usepackage{transparent}
\newcommand{\incfig}[1]{%
	\def\svgwidth{\columnwidth}
	\import{./figures/}{#1.pdf_tex}
}

\pdfsuppresswarningpagegroup=1

\begin{document}
	$0
\end{document}
endsnippet

snippet ka "Kahler"
K\"ahler 
endsnippet

context "tx()"
snippet Cech "Cech" iA
\v Cech
endsnippet


context "tx()"
snippet 'i "i" iA
\'i
endsnippet

context "tx()"
snippet 'e "e" iA
\'e
endsnippet

context "tx()"
snippet 'a "a" iA
\'a
endsnippet

context "tx()"
snippet 'o "o" iA
\'o
endsnippet

context "tx()"
snippet 'u "u" iA
\'u
endsnippet

context "tx()"
snippet 'A "A" iA
\'A
endsnippet

context "tx()"
snippet 'E "E" iA
\'E
endsnippet


snippet ~a "a" iA
\~a
endsnippet

snippet \leav "leavevmode" iA
\leavevmode
endsnippet

snippet toc "toc" bA
\tableofcontents
endsnippet

snippet quot "quotation" bA
\begin{quotation}
	$1
\end{quotation}
$0
endsnippet

snippet Kah "khaler" iA
K\"ahler
endsnippet

snippet Grun "grunbaum" iA
Gr\"unbraum
endsnippet

snippet Gol "golebiewski" iA
Go\l\c ebiewski
endsnippet

snippet ... "dots" iA
…
endsnippet

priority 1
snippet col "color" i	
{\color{$1}$2}$3
endsnippet

snippet blue "blue" i
{\color{blue}$1}$0
endsnippet

snippet orng "orange" iA
{\color{orange}$1}$0
endsnippet

snippet persi "persimon" iA
{\color{persimmon}$1}$0
endsnippet

snippet lvmg "lavendermgn" iA
{\color{lavendermagenta}$1}$0
endsnippet

snippet blv "blue-violet" iA
{\color{blue-violet}$1}$0
endsnippet

snippet mgn "magenta" iA
{\color{magenta}$1}$0
endsnippet

snippet cyan "cyan" iA
{\color{cyan}$1}$0
endsnippet

snippet dbar "dbar" iA
$\bar\partial$
endsnippet

snippet im "implies" i
$\implies$ 
endsnippet

snippet tm "item" bA
\item 
endsnippet

snippet leav "leavevmode" iA
\leavevmode 
endsnippet

snippet math "MathdaniBooks" i
~/daniDrive/Otros/daniBooks/Mathematics/
endsnippet

snippet nnn "n" iA
$n$`!p
if t[2] and t[2][0] not in [',', '.', '?', '-', ' ']:
     snip.rv = ' '
else:
     snip.rv = ''
`$2
endsnippet

snippet fff "function" iA
$f$`!p
if t[2] and t[2][0] not in [',', '.', '?', '-', ' ']:
     snip.rv = ' '
else:
     snip.rv = ''
`$2
endsnippet

snippet nth "nth" iA
$n$-th
endsnippet

#attempt
#snippet '([A-Za-z])([A-Za-z])' "Description" options
#$([A-Za-z])([A-Za-z])
#endsnippet


#Something that maps any letter twice to $theletter$
#context "tx()"
#snippet '([A-Za-z])()' "auto superscript" wrA
#`!p snip.rv = match.group(1)`^{`!p snip.rv = match.group(2)`$1}$0
#endsnippet

snippet iff "iff" i
if and only if 
endsnippet

snippet sii "sii" iA
si y s\'olo si`!p
if t[2] and t[2][0] not in [',', '.', '_', '?', '-', ' ']:
     snip.rv = ' '
else:
     snip.rv = ''
`$2
endsnippet

snippet Freuden "Freudenthal" iA
Freudenthal 
endsnippet

snippet \if "iffase" iA
\iffalse
endsnippet

snippet txx "texttt" iA
\texttt{$1}`!p
if t[2] and t[2][0] not in [',', '.', '_', '?', '-', ' ','(','^']:
     snip.rv = ' '
else:
     snip.rv = ''
`$2
endsnippet

context "tx()"
snippet Cn "complex" iA
$\mathbb{C}^{$1}$
endsnippet

context "tx()"
snippet CC "complex" iA
$\mathbb{C}$
endsnippet

context "tx()"
snippet Rn "real" iA
$\mathbb{R}^{$1}$
endsnippet

context "tx()"
snippet ppi "mapping" iA
pping
endsnippet

context "tx()"
snippet \cc "c with hook" iA
\c c
endsnippet

context "tx()"
snippet ^a "hat" iA
\^a
endsnippet

context "tx()"
snippet ^o "hat" iA
\^o
endsnippet

context "tx()"
snippet ^e "hat" iA
\^e
endsnippet

context "tx()"
snippet …a "atilde" iA
\~a
endsnippet

context "tx()"
snippet …o "otilde" iA
\~o
endsnippet

context "tx()"
snippet ~o "otilde" iA
\~o
endsnippet

context "tx()"
snippet cao "cao" iA 
\c c\~ao`!p
if t[1] and t[1][0] not in [',', '.', '_', '?', '-', ' ','(','^']:
     snip.rv = ' '
else:
     snip.rv = ''
`$1
endsnippet

context "tx()"
snippet coes "coes" iA
\c c\~oes`!p
if t[1] and t[1][0] not in [',', '.', '_', '?', '-', ' ','(','^']:
     snip.rv = ' '
else:
     snip.rv = ''
`$0
endsnippet

context "tx()"
snippet `a "a" iA
\`a
endsnippet

context "tx()"
snippet cite "cite" iA
\cite{$1}`!p
if t[2] and t[2][0] not in [',', '.', '_', '?', '-', ' ','(','^']:
     snip.rv = ' '
else:
     snip.rv = ''
`$2
endsnippet

context "tx()"
snippet viz "viz" iA
vizinhança`!p
if t[2] and t[2][0] not in ['s',',', '.', '_', '?', '-', ' ','(','^']:
     snip.rv = ' '
else:
     snip.rv = ''
`$2
endsnippet

context "tx()"
snippet ed "end document" bA
\end{document}
endsnippet

context "tx()"
snippet pb "print bibliogrphy" bA
\printbibliography
endsnippet

context "tx()"
snippet tc "table of contents" bA
\tableofcontents
endsnippet

context "tx()"
snippet ises "inline" iA
$0\to $1\to $2\to $3\to 0$`!p
if t[5] and t[5][0] not in [',', '.', '_', '?', '-', ' ','(','^']:
     snip.rv = ' '
else:
     snip.rv = ''
`$5
endsnippet

context "tx()"
snippet fr "frame" bA
\begin{frame}
	$1
\end{frame}$0
endsnippet

